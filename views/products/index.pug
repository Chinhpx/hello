extends ../layouts/common

block content

	h1 
		span Products
		a.btn.btn-primary.mb-2.ml-2(href="/products/create") New

	form(action="/products/search", method="GET", class="d-flex")
		input(type="text", name="q", class="form-control")
		button(class="btn btn-primary ml-2") Search

	.card-deck
		each product in products
			.card
				img.card-img-top(src=product.image, alt='Card image cap')
				.card-body
					h5.card-title h1 #{product.name}
					p.card-text #{product.description}
					a.btn.btn-primary(href='/cart/add/' + product.id) Add to cart 
				
	br

	nav(aria-label='...').float-right
		ul.pagination.pagination-lg
			li.page-item
				a.page-link(href='/products/') First
			li.page-item.disabled
				a.page-link(href='/products/?page=' + pageInfo.currentPage ) #{pageInfo.currentPage}
			li.page-item
				a.page-link(href='/products/?page=' + parseInt(pageInfo.currentPage + 1)) Next page
			li.page-item
				a.page-link(href='/products/?page=' + pageInfo.totalPages) #{pageInfo.totalPages}
